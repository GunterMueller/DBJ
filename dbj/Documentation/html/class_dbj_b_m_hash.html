<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Jenas Datenbanksystem &apos;System J&apos;: DbjBMHash Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.8 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>DbjBMHash Class Reference</h1>Hash Liste des Puffers.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="_dbj_b_m_hash_8hpp-source.html">DbjBMHash.hpp</a>&gt;</code>
<p>
<a href="class_dbj_b_m_hash-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="_dbj_error_codes_8hpp.html#a107">DbjErrorCode</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="class_dbj_b_m_hash.html#a0">initialize</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialisiere den Hash.  <a href="#a0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="_dbj_error_codes_8hpp.html#a107">DbjErrorCode</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="class_dbj_b_m_hash.html#a1">setPagesPointer</a> (<a class="el" href="class_dbj_page.html">DbjPage</a> *<a class="el" href="class_dbj_b_m_hash.html#v0">pages</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Setze Zeiger auf DbjPage-Array.  <a href="#a1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="_dbj_error_codes_8hpp.html#a107">DbjErrorCode</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="class_dbj_b_m_hash.html#a2">insert</a> (const <a class="el" href="group__int__datatypes.html#ga9">Uint16</a> pageIndex)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Fuege Seite ein.  <a href="#a2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="_dbj_error_codes_8hpp.html#a107">DbjErrorCode</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="class_dbj_b_m_hash.html#a3">get</a> (const <a class="el" href="group__tableid.html#ga0">SegmentId</a> segmentId, const <a class="el" href="group__id__datatypes.html#ga0">PageId</a> pageId, <a class="el" href="class_dbj_page.html">DbjPage</a> *&amp;page, <a class="el" href="group__int__datatypes.html#ga9">Uint16</a> &amp;pageIndex) const</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finde Seite.  <a href="#a3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="_dbj_error_codes_8hpp.html#a107">DbjErrorCode</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="class_dbj_b_m_hash.html#a4">remove</a> (const <a class="el" href="group__int__datatypes.html#ga9">Uint16</a> pageIndex)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Entferne Seite.  <a href="#a4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="_dbj_error_codes_8hpp.html#a107">DbjErrorCode</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="class_dbj_b_m_hash.html#a5">dump</a> () const</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dump des Hashes.  <a href="#a5"></a><br></td></tr>
<tr><td colspan=2><br><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="group__int__datatypes.html#ga9">Uint16</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="class_dbj_b_m_hash.html#d0">getHashValue</a> (const <a class="el" href="group__tableid.html#ga0">SegmentId</a> segmentId, const <a class="el" href="group__id__datatypes.html#ga0">PageId</a> pageId) const</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Berechne Hashwert fuer Seite.  <a href="#d0"></a><br></td></tr>
<tr><td colspan=2><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="struct_dbj_b_m_hash_1_1_hash_entry.html">HashEntry</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="class_dbj_b_m_hash.html#r0">hashArray</a> [<a class="el" href="class_dbj_b_m_hash.html#v1">NUM_ENTRIES</a>]</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Hash-Array.  <a href="#r0"></a><br></td></tr>
<tr><td colspan=2><br><h2>Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="class_dbj_page.html">DbjPage</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="class_dbj_b_m_hash.html#v0">pages</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Zeiger auf den Anfang des DbjPage-Arrays im Puffer.  <a href="#v0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>const <a class="el" href="group__int__datatypes.html#ga15">Uint32</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="class_dbj_b_m_hash.html#v1">NUM_ENTRIES</a> = <a class="el" href="group__bm__config.html#ga4">DBJ_BM_NUM_PAGES</a>+1+<a class="el" href="group__bm__config.html#ga5">DBJ_BM_NUM_HASH_BUCKETS</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gesamtanzahl der Elemente im Array des Hashes; dies umfasst sowohl die Eintraege fuer die Hash-Buckets als auch die Eintraege fuer die Ueberlauflisten (wo die eigentlichen Informationen zu finden sind).  <a href="#v1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>const <a class="el" href="group__int__datatypes.html#ga15">Uint32</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="class_dbj_b_m_hash.html#v2">EMPTY_LIST_HEAD</a> = <a class="el" href="group__bm__config.html#ga4">DBJ_BM_NUM_PAGES</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Beginn der Liste der leeren Eintraege.  <a href="#v2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>const <a class="el" href="group__int__datatypes.html#ga15">Uint32</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="class_dbj_b_m_hash.html#v3">FIRST_BUCKET</a> = <a class="el" href="group__bm__config.html#ga4">DBJ_BM_NUM_PAGES</a>+1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Index des ersten Hash-Buckets.  <a href="#v3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>const <a class="el" href="group__int__datatypes.html#ga15">Uint32</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="class_dbj_b_m_hash.html#v4">LAST_BUCKET</a> = <a class="el" href="class_dbj_b_m_hash.html#v1">NUM_ENTRIES</a>-1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Index des letzten Hash-Buckets.  <a href="#v4"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Hash Liste des Puffers. 
<p>
Der Hash wird verwendet, um eine Seite schnell im Puffer aufzufinden. Die Hash-Tabelle liegt hierbei komplett im Pufferbereich. Genau genommen wird das komplette DbjBMHash-Objekt im Puffer abgelegt. Das bedeutet, dass es keinen Zeiger als Member-Variable umfassen darf.<p>
Der Hash besteht aus einem einzigen Array, in welches 3 verschiedene Informationen kodiert sind:<ol>
<li>die Eintraege in den Listen fuer die einzelnen Buckets, im Bereich [0, <code>DBJ_BM_NUM_PAGES</code> - 1]; dies sind die eigentlichen Hash-Eintraege</li><li>der Kopf fuer die Liste der nicht genutzten Eintraege im Hash, beim Index <code>DBJ_BM_NUM_PAGES</code></li><li>die Hash-Buckets, im Bereich [<code>DBJ_BM_NUM_PAGES</code> + 1, <code>NUM_ENTRIES</code> - 1]</li></ol>
<p>
Die Listen im Hash sind jeweils Ringlisten, d.h. das letzte Element verweist wieder auf den Listenkopf. Die Listen sind auch jeweils doppelt-verkettet, um keine lineare Suche durchfuehren zu muessen (ausser beim "get"). Ueber die 1:1-Abbildung haben wir immer einen direkten Einstieg.<p>
Da der Hash sich den Pufferbereich mit den eigentlichen Seitendaten und dem LRU teilen muss, sollte der Speicherplatzverbrauch minimiert werden. Daher existiert eine 1:1-Abbildung zwischen den Hash-Eintraegen und den DbjPage-Objekten im Puffer, um keinen "pageIndex" im Hash hinterlegen zu muessen. Ausserdem fliesst die Groesse des Hashes in die Bereichnung der maximal zur Verfuegung stehenden Anzahl von gepufferten Seiten ein. Daher <b>muessen</b> bei jeder Aenderung an dieser Klasse die Definitionen in <a class="el" href="_dbj_b_m_config_8hpp.html">DbjBMConfig.hpp</a> auf Korrektheit ueberprueft und gegebenenfalls angepasst werden. 
<p>
Definition at line <a class="el" href="_dbj_b_m_hash_8hpp-source.html#l00054">54</a> of file <a class="el" href="_dbj_b_m_hash_8hpp-source.html">DbjBMHash.hpp</a>.<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a5" doxytag="DbjBMHash::dump" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="_dbj_error_codes_8hpp.html#a107">DbjErrorCode</a> DbjBMHash::dump           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Dump des Hashes. 
<p>
Schreibe den Inhalt des Hashs auf die Standardausgabe (STDOUT). Intern wird durch alle nicht-leeren Hashbuckets traversiert, und die jeweilige Liste abgearbeitet. Fuer jedes Element in der Liste wird ausgegeben, welchen Slot es im "pages"-Array, Hash bzw. LRU referenziert, und welches das naechste Element in der Liste ist. Definition at line <a class="el" href="_dbj_buffer_content_8cpp-source.html#l00105">105</a> of file <a class="el" href="_dbj_buffer_content_8cpp-source.html">DbjBufferContent.cpp</a>.
<p>
References <a class="el" href="_dbj_error_codes_8hpp.html#a107a2">DBJ_INTERNAL_FAIL</a>, <a class="el" href="_dbj_error_8hpp-source.html#l00256">DBJ_SET_ERROR</a>, <a class="el" href="_dbj_trace_8hpp-source.html#l00212">DBJ_TRACE_ENTRY</a>, <a class="el" href="_dbj_error_codes_8hpp-source.html#l00037">DbjErrorCode</a>, <a class="el" href="_dbj_error_8hpp-source.html#l00235">DbjGetErrorCode()</a>, <a class="el" href="_dbj_b_m_hash_8hpp-source.html#l00146">FIRST_BUCKET</a>, <a class="el" href="_dbj_page_8hpp-source.html#l00080">DbjPage::getSegmentId()</a>, <a class="el" href="_dbj_b_m_hash_8hpp-source.html#l00159">hashArray</a>, <a class="el" href="_dbj_b_m_hash_8hpp-source.html#l00148">LAST_BUCKET</a>, <a class="el" href="_dbj_b_m_hash_8hpp-source.html#l00155">DbjBMHash::HashEntry::next</a>, <a class="el" href="_dbj_b_m_hash_8cpp-source.html#l00015">pages</a>, and <a class="el" href="_dbj_types_8hpp-source.html#l00070">Uint32</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="DbjBMHash::get" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="_dbj_error_codes_8hpp.html#a107">DbjErrorCode</a> DbjBMHash::get           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="group__tableid.html#ga0">SegmentId</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>segmentId</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const <a class="el" href="group__id__datatypes.html#ga0">PageId</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pageId</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="class_dbj_page.html">DbjPage</a> *&amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>page</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="group__int__datatypes.html#ga9">Uint16</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>pageIndex</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"> const</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Finde Seite. 
<p>
Finde die angegebene Seite, identifiziert durch die Segment-ID und Seiten-ID im Hash. Zurueckgegeben wird ein Zeiger auf die Seite im "pages"-Array im Puffer. Zusaetzlich wird der Index der Seite im "pages"-Array des Puffers zurueckgegeben. Dieser Index ist auch der Index zum zugehoerigen Eintrag im LRU bzw. im Hash. Somit laesst sich leicht eine Seite auffinden, und der LRU-Eintrag kann auch gleich modifiziert werden.<p>
Der uebergebene "page"-Zeiger muss beim Aufruf ein NULL-Zeiger sein.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>segmentId</em>&nbsp;</td><td>ID des Segments in das die Seite gehoert </td></tr>
    <tr><td></td><td valign=top><em>pageId</em>&nbsp;</td><td>ID der Seite im Segment </td></tr>
    <tr><td></td><td valign=top><em>page</em>&nbsp;</td><td>Referenz auf den Zeiger auf die Seite </td></tr>
    <tr><td></td><td valign=top><em>pageIndex</em>&nbsp;</td><td>Referenz auf den Index der Seite im "pages"-Array </td></tr>
  </table>
</dl>
Definition at line <a class="el" href="_dbj_b_m_hash_8cpp-source.html#l00124">124</a> of file <a class="el" href="_dbj_b_m_hash_8cpp-source.html">DbjBMHash.cpp</a>.
<p>
References <a class="el" href="_dbj_error_codes_8hpp.html#a107a70">DBJ_BM_PAGE_NOT_FOUND</a>, <a class="el" href="_dbj_error_codes_8hpp.html#a107a3">DBJ_PARAMETER_FAIL</a>, <a class="el" href="_dbj_error_8hpp-source.html#l00256">DBJ_SET_ERROR</a>, <a class="el" href="_dbj_error_8hpp-source.html#l00268">DBJ_SET_ERROR_TOKEN2</a>, <a class="el" href="_dbj_trace_8hpp-source.html#l00212">DBJ_TRACE_ENTRY</a>, <a class="el" href="_dbj_error_codes_8hpp-source.html#l00037">DbjErrorCode</a>, <a class="el" href="_dbj_error_8hpp-source.html#l00235">DbjGetErrorCode()</a>, <a class="el" href="_dbj_b_m_hash_8cpp-source.html#l00205">getHashValue()</a>, <a class="el" href="_dbj_page_8hpp-source.html#l00089">DbjPage::getPageId()</a>, <a class="el" href="_dbj_page_8hpp-source.html#l00080">DbjPage::getSegmentId()</a>, <a class="el" href="_dbj_b_m_hash_8hpp-source.html#l00159">hashArray</a>, <a class="el" href="_dbj_b_m_hash_8hpp-source.html#l00155">DbjBMHash::HashEntry::next</a>, <a class="el" href="_dbj_types_8hpp-source.html#l00091">PageId</a>, <a class="el" href="_dbj_b_m_hash_8cpp-source.html#l00015">pages</a>, <a class="el" href="_dbj_types_8hpp-source.html#l00113">SegmentId</a>, and <a class="el" href="_dbj_types_8hpp-source.html#l00056">Uint16</a>.    </td>
  </tr>
</table>
<a class="anchor" name="d0" doxytag="DbjBMHash::getHashValue" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="group__int__datatypes.html#ga9">Uint16</a> DbjBMHash::getHashValue           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="group__tableid.html#ga0">SegmentId</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>segmentId</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const <a class="el" href="group__id__datatypes.html#ga0">PageId</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pageId</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"> const<code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Berechne Hashwert fuer Seite. 
<p>
Diese Methode berechnet den Hashwert fuer eine gegebene Seite, mit der der Bucket bestimmt wird, zu welcher die Seite zugeordnet wird.<p>
TODO: Die Segment-ID sollte in der Hashfunktion mit verwendet werden, um eine breitere Streuung der Hashwerte zu erzielen und damit die Listen der einzelnen Buckets bei kleinen Datenbanken zu verkuerzen.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>segmentId</em>&nbsp;</td><td>ID des Segments in dem die Seite liegt </td></tr>
    <tr><td></td><td valign=top><em>pageId</em>&nbsp;</td><td>ID der Seite </td></tr>
  </table>
</dl>
Definition at line <a class="el" href="_dbj_b_m_hash_8cpp-source.html#l00205">205</a> of file <a class="el" href="_dbj_b_m_hash_8cpp-source.html">DbjBMHash.cpp</a>.
<p>
References <a class="el" href="_dbj_trace_8hpp-source.html#l00212">DBJ_TRACE_ENTRY</a>, <a class="el" href="_dbj_trace_8hpp-source.html#l00235">DBJ_TRACE_NUMBER</a>, <a class="el" href="_dbj_b_m_hash_8hpp-source.html#l00146">FIRST_BUCKET</a>, <a class="el" href="_dbj_types_8hpp-source.html#l00091">PageId</a>, <a class="el" href="_dbj_types_8hpp-source.html#l00113">SegmentId</a>, and <a class="el" href="_dbj_types_8hpp-source.html#l00056">Uint16</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="DbjBMHash::initialize" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="_dbj_error_codes_8hpp.html#a107">DbjErrorCode</a> DbjBMHash::initialize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialisiere den Hash. 
<p>
Beim System-Start muss der Hash initialisiert werden, und dies wird mit der Methode hier vorgenommen. Intern werden alle Eintraege im Hash-Array in die Leerliste eingefuegt. Definition at line <a class="el" href="_dbj_b_m_hash_8cpp-source.html#l00020">20</a> of file <a class="el" href="_dbj_b_m_hash_8cpp-source.html">DbjBMHash.cpp</a>.
<p>
References <a class="el" href="_dbj_error_codes_8hpp.html#a107a2">DBJ_INTERNAL_FAIL</a>, <a class="el" href="_dbj_error_8hpp-source.html#l00256">DBJ_SET_ERROR</a>, <a class="el" href="_dbj_trace_8hpp-source.html#l00212">DBJ_TRACE_ENTRY</a>, <a class="el" href="_dbj_error_codes_8hpp-source.html#l00037">DbjErrorCode</a>, <a class="el" href="_dbj_error_8hpp-source.html#l00235">DbjGetErrorCode()</a>, <a class="el" href="_dbj_b_m_hash_8cpp-source.html#l00017">EMPTY_LIST_HEAD</a>, <a class="el" href="_dbj_b_m_hash_8hpp-source.html#l00146">FIRST_BUCKET</a>, <a class="el" href="_dbj_b_m_hash_8hpp-source.html#l00159">hashArray</a>, <a class="el" href="_dbj_b_m_hash_8hpp-source.html#l00148">LAST_BUCKET</a>, <a class="el" href="_dbj_b_m_hash_8hpp-source.html#l00155">DbjBMHash::HashEntry::next</a>, <a class="el" href="_dbj_b_m_hash_8hpp-source.html#l00153">DbjBMHash::HashEntry::prev</a>, and <a class="el" href="_dbj_types_8hpp-source.html#l00070">Uint32</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="DbjBMHash::insert" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="_dbj_error_codes_8hpp.html#a107">DbjErrorCode</a> DbjBMHash::insert           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="group__int__datatypes.html#ga9">Uint16</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pageIndex</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Fuege Seite ein. 
<p>
Fuege die angegebene Seite, identifiert durch ihren Index im "pages"-Array, in die Hash-Tabelle ein. Auf Grund der 1:1-Abbildung zwischen Hash-Eintraegen und DbjPage-Objekten identifiziert der "pageIndex" auch gleich den zur Seite gehoerenden Hash-Eintrag.<p>
Intern wird ueber die Segment- und Seiten-ID der Hash-Bucket bestimmt, zu dem der Hash-Eintrag hinzugefuegt wird, und anschliessend wird der Eintrag als erstes Element in der Liste des Buckets eingehaengt.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>pageIndex</em>&nbsp;</td><td>Index der Seite/des Slots im "pages"-Array </td></tr>
  </table>
</dl>
Definition at line <a class="el" href="_dbj_b_m_hash_8cpp-source.html#l00071">71</a> of file <a class="el" href="_dbj_b_m_hash_8cpp-source.html">DbjBMHash.cpp</a>.
<p>
References <a class="el" href="_dbj_error_codes_8hpp.html#a107a73">DBJ_BM_BUFFER_FULL</a>, <a class="el" href="_dbj_error_codes_8hpp.html#a107a2">DBJ_INTERNAL_FAIL</a>, <a class="el" href="_dbj_error_codes_8hpp.html#a107a3">DBJ_PARAMETER_FAIL</a>, <a class="el" href="_dbj_error_8hpp-source.html#l00256">DBJ_SET_ERROR</a>, <a class="el" href="_dbj_trace_8hpp-source.html#l00212">DBJ_TRACE_ENTRY</a>, <a class="el" href="_dbj_error_codes_8hpp-source.html#l00037">DbjErrorCode</a>, <a class="el" href="_dbj_error_8hpp-source.html#l00235">DbjGetErrorCode()</a>, <a class="el" href="_dbj_b_m_hash_8cpp-source.html#l00017">EMPTY_LIST_HEAD</a>, <a class="el" href="_dbj_b_m_hash_8hpp-source.html#l00146">FIRST_BUCKET</a>, <a class="el" href="_dbj_b_m_hash_8cpp-source.html#l00205">getHashValue()</a>, <a class="el" href="_dbj_b_m_hash_8hpp-source.html#l00159">hashArray</a>, <a class="el" href="_dbj_b_m_hash_8hpp-source.html#l00148">LAST_BUCKET</a>, <a class="el" href="_dbj_b_m_hash_8hpp-source.html#l00155">DbjBMHash::HashEntry::next</a>, <a class="el" href="_dbj_b_m_hash_8cpp-source.html#l00015">pages</a>, and <a class="el" href="_dbj_types_8hpp-source.html#l00056">Uint16</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="DbjBMHash::remove" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="_dbj_error_codes_8hpp.html#a107">DbjErrorCode</a> DbjBMHash::remove           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="group__int__datatypes.html#ga9">Uint16</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pageIndex</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Entferne Seite. 
<p>
Entferne die angegebene Seite, identifiziert durch ihre Position im Hash, welche identisch ist mit der Position im "pages"-Array. Die Eintrag wird einfach aus der Liste des entsprechenden Buckets ausgehaengt und in die Leerliste eingefuegt.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>pageIndex</em>&nbsp;</td><td>Index der Seite/des Slots im Hash bzw. "pages"-Array </td></tr>
  </table>
</dl>
Definition at line <a class="el" href="_dbj_b_m_hash_8cpp-source.html#l00162">162</a> of file <a class="el" href="_dbj_b_m_hash_8cpp-source.html">DbjBMHash.cpp</a>.
<p>
References <a class="el" href="_dbj_error_codes_8hpp.html#a107a2">DBJ_INTERNAL_FAIL</a>, <a class="el" href="_dbj_error_codes_8hpp.html#a107a3">DBJ_PARAMETER_FAIL</a>, <a class="el" href="_dbj_error_8hpp-source.html#l00256">DBJ_SET_ERROR</a>, <a class="el" href="_dbj_trace_8hpp-source.html#l00212">DBJ_TRACE_ENTRY</a>, <a class="el" href="_dbj_error_codes_8hpp-source.html#l00037">DbjErrorCode</a>, <a class="el" href="_dbj_error_8hpp-source.html#l00235">DbjGetErrorCode()</a>, <a class="el" href="_dbj_b_m_hash_8cpp-source.html#l00017">EMPTY_LIST_HEAD</a>, <a class="el" href="_dbj_b_m_hash_8hpp-source.html#l00146">FIRST_BUCKET</a>, <a class="el" href="_dbj_b_m_hash_8hpp-source.html#l00159">hashArray</a>, <a class="el" href="_dbj_b_m_hash_8hpp-source.html#l00148">LAST_BUCKET</a>, <a class="el" href="_dbj_b_m_hash_8hpp-source.html#l00155">DbjBMHash::HashEntry::next</a>, and <a class="el" href="_dbj_types_8hpp-source.html#l00056">Uint16</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="DbjBMHash::setPagesPointer" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="_dbj_error_codes_8hpp.html#a107">DbjErrorCode</a> DbjBMHash::setPagesPointer           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="class_dbj_page.html">DbjPage</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pages</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Setze Zeiger auf DbjPage-Array. 
<p>
Der Hash greift aus die Kontrollbloecke der DbjPage-Objekte im Puffer zu, und hierfuer muss er wissen, wo die Seiten zu finden sind. Diese Methode hier wird vom Buffer Manager aufgerufen, um dem Hash den Beginn des Arrays der Seiten mitzuteilen.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>pages</em>&nbsp;</td><td>Zeiger auf den Anfang des Seiten Arrays </td></tr>
  </table>
</dl>
Definition at line <a class="el" href="_dbj_b_m_hash_8cpp-source.html#l00051">51</a> of file <a class="el" href="_dbj_b_m_hash_8cpp-source.html">DbjBMHash.cpp</a>.
<p>
References <a class="el" href="_dbj_error_codes_8hpp.html#a107a2">DBJ_INTERNAL_FAIL</a>, <a class="el" href="_dbj_error_codes_8hpp.html#a107a3">DBJ_PARAMETER_FAIL</a>, <a class="el" href="_dbj_error_8hpp-source.html#l00256">DBJ_SET_ERROR</a>, <a class="el" href="_dbj_trace_8hpp-source.html#l00212">DBJ_TRACE_ENTRY</a>, <a class="el" href="_dbj_error_codes_8hpp-source.html#l00037">DbjErrorCode</a>, <a class="el" href="_dbj_error_8hpp-source.html#l00235">DbjGetErrorCode()</a>, <a class="el" href="_dbj_b_m_hash_8hpp-source.html#l00159">hashArray</a>, and <a class="el" href="_dbj_b_m_hash_8cpp-source.html#l00015">pages</a>.    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="v2" doxytag="DbjBMHash::EMPTY_LIST_HEAD" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const <a class="el" href="group__int__datatypes.html#ga15">Uint32</a> <a class="el" href="class_dbj_b_m_hash.html#v2">DbjBMHash::EMPTY_LIST_HEAD</a> = <a class="el" href="group__bm__config.html#ga4">DBJ_BM_NUM_PAGES</a><code> [static, private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Beginn der Liste der leeren Eintraege. 
<p>
Definition at line <a class="el" href="_dbj_b_m_hash_8cpp-source.html#l00017">17</a> of file <a class="el" href="_dbj_b_m_hash_8cpp-source.html">DbjBMHash.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="v3" doxytag="DbjBMHash::FIRST_BUCKET" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const <a class="el" href="group__int__datatypes.html#ga15">Uint32</a> <a class="el" href="class_dbj_b_m_hash.html#v3">DbjBMHash::FIRST_BUCKET</a> = <a class="el" href="group__bm__config.html#ga4">DBJ_BM_NUM_PAGES</a>+1<code> [static, private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Index des ersten Hash-Buckets. 
<p>
Definition at line <a class="el" href="_dbj_b_m_hash_8hpp-source.html#l00146">146</a> of file <a class="el" href="_dbj_b_m_hash_8hpp-source.html">DbjBMHash.hpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r0" doxytag="DbjBMHash::hashArray" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="struct_dbj_b_m_hash_1_1_hash_entry.html">HashEntry</a> <a class="el" href="class_dbj_b_m_hash.html#r0">DbjBMHash::hashArray</a>[<a class="el" href="class_dbj_b_m_hash.html#v1">NUM_ENTRIES</a>]<code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Hash-Array. 
<p>
Definition at line <a class="el" href="_dbj_b_m_hash_8hpp-source.html#l00159">159</a> of file <a class="el" href="_dbj_b_m_hash_8hpp-source.html">DbjBMHash.hpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="v4" doxytag="DbjBMHash::LAST_BUCKET" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const <a class="el" href="group__int__datatypes.html#ga15">Uint32</a> <a class="el" href="class_dbj_b_m_hash.html#v4">DbjBMHash::LAST_BUCKET</a> = <a class="el" href="class_dbj_b_m_hash.html#v1">NUM_ENTRIES</a>-1<code> [static, private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Index des letzten Hash-Buckets. 
<p>
Definition at line <a class="el" href="_dbj_b_m_hash_8hpp-source.html#l00148">148</a> of file <a class="el" href="_dbj_b_m_hash_8hpp-source.html">DbjBMHash.hpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="v1" doxytag="DbjBMHash::NUM_ENTRIES" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const <a class="el" href="group__int__datatypes.html#ga15">Uint32</a> <a class="el" href="class_dbj_b_m_hash.html#v1">DbjBMHash::NUM_ENTRIES</a> = <a class="el" href="group__bm__config.html#ga4">DBJ_BM_NUM_PAGES</a>+1+<a class="el" href="group__bm__config.html#ga5">DBJ_BM_NUM_HASH_BUCKETS</a><code> [static, private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Gesamtanzahl der Elemente im Array des Hashes; dies umfasst sowohl die Eintraege fuer die Hash-Buckets als auch die Eintraege fuer die Ueberlauflisten (wo die eigentlichen Informationen zu finden sind). 
<p>
Definition at line <a class="el" href="_dbj_b_m_hash_8cpp-source.html#l00016">16</a> of file <a class="el" href="_dbj_b_m_hash_8cpp-source.html">DbjBMHash.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="v0" doxytag="DbjBMHash::pages" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="class_dbj_page.html">DbjPage</a> * <a class="el" href="class_dbj_b_m_hash.html#v0">DbjBMHash::pages</a><code> [static, private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Zeiger auf den Anfang des DbjPage-Arrays im Puffer. 
<p>
Dieser Zeiger ist eine Klassenvariable ("static"), damit er nicht im Bufferpool mit hinterlegt wird, sondern nur einmal im aktuellen Prozess existiert. Definition at line <a class="el" href="_dbj_b_m_hash_8cpp-source.html#l00015">15</a> of file <a class="el" href="_dbj_b_m_hash_8cpp-source.html">DbjBMHash.cpp</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_dbj_b_m_hash_8hpp-source.html">DbjBMHash.hpp</a><li><a class="el" href="_dbj_b_m_hash_8cpp-source.html">DbjBMHash.cpp</a><li><a class="el" href="_dbj_buffer_content_8cpp-source.html">DbjBufferContent.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Mon Jul 4 15:40:32 2005 for Jenas Datenbanksystem 'System J' by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.8 </small></address>
</body>
</html>
